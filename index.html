<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Untukmu ü§ç</title>

<style>
body{
 margin:0;
 height:100vh;
 background:linear-gradient(135deg,#ffb6d5,#ffd6e8);
 font-family:'Segoe UI',sans-serif;
 display:flex;
 justify-content:center;
 align-items:center;
 overflow:hidden;
 color:#333;
}

.hidden{display:none}

/* ===== BOX ===== */
#giftBox{
 position:relative;
 width:220px;
 height:220px;
}

#box{
 width:220px;
 height:150px;
 background:#ff8fc4;
 border-radius:0 0 25px 25px;
 position:absolute;
 bottom:0;
}

#lid{
 width:220px;
 height:65px;
 background:#ff5fa2;
 position:absolute;
 top:0;
 border-radius:25px 25px 0 0;
 transform-origin:left bottom;
 animation:openLid 3s forwards 1s;
}

@keyframes openLid{
 to{transform:rotate(-115deg);}
}

/* ===== BONEKA ===== */
#doll{
 position:absolute;
 bottom:25px;
 left:50%;
 transform:translateX(-50%);
 font-size:50px;
 opacity:0;
 animation:dollUp 2s forwards 2.2s;
}

@keyframes dollUp{
 to{bottom:125px;opacity:1;}
}

/* ===== SURAT ===== */
#letter{
 position:absolute;
 bottom:30px;
 left:50%;
 transform:translateX(-50%);
 width:190px;
 min-height:160px;
 background:white;
 border-radius:14px;
 padding:14px;
 opacity:0;
 animation:letterUp 2s forwards 3.6s;
 box-shadow:0 0 25px rgba(255,255,255,.8);
}

@keyframes letterUp{
 to{bottom:170px;opacity:1;}
}

/* KILAU */
#letter::before{
 content:"";
 position:absolute;
 inset:0;
 background:linear-gradient(120deg,transparent 20%,rgba(255,255,255,.6) 40%,transparent 60%);
 animation:shine 2.5s infinite;
 border-radius:14px;
}
@keyframes shine{
 from{background-position:-200px;}
 to{background-position:200px;}
}

#letterText{
 position:relative;
 z-index:2;
 font-size:14px;
 line-height:1.6;
 white-space:pre-line;
}

/* STAMP */
#stamp{
 position:absolute;
 right:-12px;
 bottom:-12px;
 background:#ff3b7f;
 color:white;
 padding:6px 10px;
 border-radius:50%;
 font-size:10px;
 transform:rotate(-20deg) scale(0);
 animation:stampIn 0.8s forwards;
}

@keyframes stampIn{
 to{transform:rotate(-20deg) scale(1);}
}

/* BUTTON */
button{
 margin-top:20px;
 padding:12px 22px;
 border:none;
 border-radius:25px;
 background:#ff5fa2;
 color:white;
 font-size:16px;
 cursor:pointer;
}

/* HEART */
.heart{
 position:absolute;
 font-size:20px;
 animation:heartFly 2s forwards;
}
@keyframes heartFly{
 to{
  transform:translateY(-150px) scale(1.5);
  opacity:0;
 }
}

/* GAME & ENDING */
#game, #ending{
 text-align:center;
 max-width:320px;
 animation:fadeIn 1.5s forwards;
}
@keyframes fadeIn{
 from{opacity:0;}
 to{opacity:1;}
}

.option{
 display:block;
 margin:10px auto;
 padding:10px;
 background:#ff8fc4;
 color:white;
 border-radius:15px;
 cursor:pointer;
}

#ending{
 background:linear-gradient(135deg,#ffb6d5,#ffcde4);
 padding:22px;
 border-radius:20px;
}

#endingText{
 white-space:pre-line;
 font-size:15px;
 line-height:1.7;
}
</style>
</head>

<body>

<!-- BOX -->
<div id="giftBox">
 <div id="lid"></div>
 <div id="box"></div>
 <div id="doll">üß∏</div>
 <div id="letter">
  <div id="letterText"></div>
 </div>
</div>

<!-- BUTTON -->
<div id="btnArea" class="hidden">
 <button onclick="peluk()">ü§ç Peluk Aku</button>
</div>

<!-- GAME -->
<div id="game" class="hidden">
 <h3>Satu pertanyaan kecil ü§ç</h3>
 <div class="option" onclick="finishGame()">Aku ingin terus bersamamu</div>
 <div class="option" onclick="finishGame()">Aku memilih kamu setiap hari</div>
</div>

<!-- ENDING -->
<div id="ending" class="hidden">
 <div id="endingText"></div>
</div>

<script>
/* ================= DATA ================= */
const nama="Pebi";
const tanggalLahir="1999-02-27";  // GANTI
const tanggalJadian="2026-01-11"; // GANTI

/* ========== HITUNG ========== */
function hitungUsia(){
 let now=new Date();
 let lahir=new Date(tanggalLahir);
 let u=now.getFullYear()-lahir.getFullYear();
 if(now<new Date(now.getFullYear(),lahir.getMonth(),lahir.getDate())) u--;
 return u;
}

function hitungHariJadian(){
 let now=new Date();
 let jadian=new Date(tanggalJadian);
 let selisih=now-jadian;
 return Math.floor(selisih/(1000*60*60*24));
}

/* ========== TEKS ========== */
const teksUltah=()=>`Selamat ulang tahun ke-${hitungUsia()}, ${nama} ü§ç

Di hari istimewa ini,
aku berdoa semoga langkahmu
selalu dipenuhi kemudahan,
hatimu dikuatkan,
dan senyummu tak pernah kehilangan alasan.

Semoga segala yang kamu impikan
perlahan menemukan jalannya,
dan lelahmu selalu diganti
dengan bahagia yang pantas.

Aku berharap cinta ini
menjadi tempatmu pulang,
menjadi tenang di setiap badai,
dan menjadi alasan
untuk terus bertahan dan tumbuh bersama.

Doaku sederhana,
semoga Tuhan menjaga kamu,
dan jika diizinkan,
menjagaku tetap di sisimu ü§ç`;

const endingText=()=>`Hari ini,
kita sudah berjalan bersama
selama ${hitungHariJadian()} hari ü§ç

Mungkin tidak selalu mudah,
tapi setiap harinya berarti
karena ada kamu di dalamnya.

Jika suatu hari dunia terasa berat,
ingatlah‚Ä¶
aku adalah tempatmu bersandar.

Dan selama waktu masih berjalan,
aku ingin terus memilih kamu,
hari demi hari,
tanpa ragu. ü§ç`;

/* ========== TYPE EFFECT ========== */
function typeText(el,text,cb){
 let i=0;
 el.innerHTML="";
 let t=setInterval(()=>{
  el.innerHTML+=text[i];
  i++;
  if(i>=text.length){
   clearInterval(t);
   if(cb)cb();
  }
 },45);
}

/* ========== FLOW ========== */
setTimeout(()=>{
 typeText(document.getElementById("letterText"),teksUltah(),()=>{
  let stamp=document.createElement("div");
  stamp.id="stamp";
  stamp.innerText="SEALED\nWITH LOVE";
  document.getElementById("letter").appendChild(stamp);
  document.getElementById("btnArea").classList.remove("hidden");
 });
},5200);

function peluk(){
 if(navigator.vibrate) navigator.vibrate([200,100,200]);
 for(let i=0;i<8;i++){
  let h=document.createElement("div");
  h.className="heart";
  h.innerHTML="üíó";
  h.style.left=Math.random()*100+"vw";
  h.style.bottom="0";
  document.body.appendChild(h);
  setTimeout(()=>h.remove(),2000);
 }
 document.getElementById("btnArea").classList.add("hidden");
 document.getElementById("game").classList.remove("hidden");
}

function finishGame(){
 document.getElementById("game").classList.add("hidden");
 document.getElementById("ending").classList.remove("hidden");
 typeText(document.getElementById("endingText"),endingText());
}
</script>

</body>

</html>
